import datetime

import pytz

data = {
    "queried_date": "2025-02-26",
    "data": {
        "slots": {
            "2025-02-26": {
                "1740551400": {"available": False, "seconds": 43200},
                "1740552300": {"available": False, "seconds": 44100},
                "1740553200": {"available": False, "seconds": 45000},
                "1740554100": {"available": False, "seconds": 45900},
                "1740555000": {"available": False, "seconds": 46800},
                "1740555900": {"available": False, "seconds": 47700},
                "1740556800": {"available": False, "seconds": 48600},
                "1740557700": {"available": False, "seconds": 49500},
                "1740558600": {"available": False, "seconds": 50400},
                "1740559500": {"available": False, "seconds": 51300},
                "1740560400": {"available": False, "seconds": 52200},
                "1740561300": {"available": False, "seconds": 53100},
                "1740562200": {"available": False, "seconds": 54000},
                "1740563100": {"available": False, "seconds": 54900},
                "1740564000": {"available": False, "seconds": 55800},
                "1740564900": {"available": False, "seconds": 56700},
                "1740565800": {"available": False, "seconds": 57600},
                "1740566700": {"available": False, "seconds": 58500},
                "1740567600": {"available": False, "seconds": 59400},
                "1740568500": {"available": False, "seconds": 60300},
                "1740569400": {"available": False, "seconds": 61200},
                "1740570300": {"available": False, "seconds": 62100},
                "1740571200": {"available": False, "seconds": 63000},
                "1740572100": {"available": False, "seconds": 63900},
                "1740573000": {"available": False, "seconds": 64800},
                "1740573900": {"available": False, "seconds": 65700},
                "1740574800": {"available": False, "seconds": 66600},
                "1740575700": {"available": False, "seconds": 67500},
                "1740576600": {"available": False, "seconds": 68400},
                "1740577500": {"available": False, "seconds": 69300},
                "1740578400": {"available": False, "seconds": 70200},
                "1740579300": {"available": False, "seconds": 71100},
                "1740580200": {"available": False, "seconds": 72000},
                "1740581100": {"available": False, "seconds": 72900},
                "1740582000": {"available": False, "seconds": 73800},
                "1740582900": {"available": False, "seconds": 74700},
                "1740583800": {"available": False, "seconds": 75600},
                "1740584700": {"available": False, "seconds": 76500},
                "1740585600": {"available": False, "seconds": 77400},
            },
            "2025-02-25": {
                "1740465000": {"available": True, "seconds": 43200},
                "1740465900": {"available": True, "seconds": 44100},
                "1740466800": {"available": True, "seconds": 45000},
                "1740467700": {"available": False, "seconds": 45900},
                "1740468600": {"available": False, "seconds": 46800},
                "1740469500": {"available": False, "seconds": 47700},
                "1740470400": {"available": False, "seconds": 48600},
                "1740471300": {"available": False, "seconds": 49500},
                "1740472200": {"available": False, "seconds": 50400},
                "1740473100": {"available": False, "seconds": 51300},
                "1740474000": {"available": False, "seconds": 52200},
                "1740474900": {"available": True, "seconds": 53100},
                "1740475800": {"available": True, "seconds": 54000},
                "1740476700": {"available": True, "seconds": 54900},
                "1740477600": {"available": True, "seconds": 55800},
                "1740478500": {"available": True, "seconds": 56700},
                "1740479400": {"available": True, "seconds": 57600},
                "1740480300": {"available": False, "seconds": 58500},
                "1740481200": {"available": False, "seconds": 59400},
                "1740482100": {"available": False, "seconds": 60300},
                "1740483000": {"available": False, "seconds": 61200},
                "1740483900": {"available": False, "seconds": 62100},
                "1740484800": {"available": False, "seconds": 63000},
                "1740485700": {"available": False, "seconds": 63900},
                "1740486600": {"available": False, "seconds": 64800},
                "1740487500": {"available": False, "seconds": 65700},
                "1740488400": {"available": False, "seconds": 66600},
                "1740489300": {"available": False, "seconds": 67500},
                "1740490200": {"available": False, "seconds": 68400},
                "1740491100": {"available": False, "seconds": 69300},
                "1740492000": {"available": False, "seconds": 70200},
                "1740492900": {"available": False, "seconds": 71100},
                "1740493800": {"available": False, "seconds": 72000},
                "1740494700": {"available": False, "seconds": 72900},
                "1740495600": {"available": False, "seconds": 73800},
                "1740496500": {"available": False, "seconds": 74700},
                "1740497400": {"available": False, "seconds": 75600},
                "1740498300": {"available": False, "seconds": 76500},
                "1740499200": {"available": False, "seconds": 77400},
            },
            "2025-02-27": {
                "1740637800": {"available": True, "seconds": 43200},
                "1740638700": {"available": True, "seconds": 44100},
                "1740639600": {"available": True, "seconds": 45000},
                "1740640500": {"available": True, "seconds": 45900},
                "1740641400": {"available": True, "seconds": 46800},
                "1740642300": {"available": True, "seconds": 47700},
                "1740643200": {"available": True, "seconds": 48600},
                "1740644100": {"available": True, "seconds": 49500},
                "1740645000": {"available": True, "seconds": 50400},
                "1740645900": {"available": True, "seconds": 51300},
                "1740646800": {"available": True, "seconds": 52200},
                "1740647700": {"available": True, "seconds": 53100},
                "1740648600": {"available": True, "seconds": 54000},
                "1740649500": {"available": True, "seconds": 54900},
                "1740650400": {"available": True, "seconds": 55800},
                "1740651300": {"available": True, "seconds": 56700},
                "1740652200": {"available": True, "seconds": 57600},
                "1740653100": {"available": True, "seconds": 58500},
                "1740654000": {"available": True, "seconds": 59400},
                "1740654900": {"available": True, "seconds": 60300},
                "1740655800": {"available": True, "seconds": 61200},
                "1740656700": {"available": True, "seconds": 62100},
                "1740657600": {"available": True, "seconds": 63000},
                "1740658500": {"available": False, "seconds": 63900},
                "1740659400": {"available": False, "seconds": 64800},
                "1740660300": {"available": False, "seconds": 65700},
                "1740661200": {"available": False, "seconds": 66600},
                "1740662100": {"available": False, "seconds": 67500},
                "1740663000": {"available": False, "seconds": 68400},
                "1740663900": {"available": False, "seconds": 69300},
                "1740664800": {"available": False, "seconds": 70200},
                "1740665700": {"available": False, "seconds": 71100},
                "1740666600": {"available": False, "seconds": 72000},
                "1740667500": {"available": False, "seconds": 72900},
                "1740668400": {"available": False, "seconds": 73800},
                "1740669300": {"available": False, "seconds": 74700},
                "1740670200": {"available": False, "seconds": 75600},
                "1740671100": {"available": False, "seconds": 76500},
                "1740672000": {"available": False, "seconds": 77400},
            },
            "2025-02-28": {
                "1740724200": {"available": False, "seconds": 43200},
                "1740725100": {"available": False, "seconds": 44100},
                "1740726000": {"available": False, "seconds": 45000},
                "1740726900": {"available": False, "seconds": 45900},
                "1740727800": {"available": False, "seconds": 46800},
                "1740728700": {"available": False, "seconds": 47700},
                "1740729600": {"available": False, "seconds": 48600},
                "1740730500": {"available": False, "seconds": 49500},
                "1740731400": {"available": False, "seconds": 50400},
                "1740732300": {"available": False, "seconds": 51300},
                "1740733200": {"available": True, "seconds": 52200},
                "1740734100": {"available": True, "seconds": 53100},
                "1740735000": {"available": True, "seconds": 54000},
                "1740735900": {"available": True, "seconds": 54900},
                "1740736800": {"available": True, "seconds": 55800},
                "1740737700": {"available": True, "seconds": 56700},
                "1740738600": {"available": True, "seconds": 57600},
                "1740739500": {"available": False, "seconds": 58500},
                "1740740400": {"available": False, "seconds": 59400},
                "1740741300": {"available": False, "seconds": 60300},
                "1740742200": {"available": False, "seconds": 61200},
                "1740743100": {"available": False, "seconds": 62100},
                "1740744000": {"available": False, "seconds": 63000},
                "1740744900": {"available": False, "seconds": 63900},
                "1740745800": {"available": False, "seconds": 64800},
                "1740746700": {"available": False, "seconds": 65700},
                "1740747600": {"available": False, "seconds": 66600},
                "1740748500": {"available": False, "seconds": 67500},
                "1740749400": {"available": False, "seconds": 68400},
                "1740750300": {"available": False, "seconds": 69300},
                "1740751200": {"available": False, "seconds": 70200},
                "1740752100": {"available": False, "seconds": 71100},
                "1740753000": {"available": False, "seconds": 72000},
                "1740753900": {"available": False, "seconds": 72900},
                "1740754800": {"available": False, "seconds": 73800},
                "1740755700": {"available": False, "seconds": 74700},
                "1740756600": {"available": False, "seconds": 75600},
                "1740757500": {"available": False, "seconds": 76500},
                "1740758400": {"available": False, "seconds": 77400},
            },
            "2025-02-24": {
                "1740378600": {"available": False, "seconds": 43200},
                "1740379500": {"available": False, "seconds": 44100},
                "1740380400": {"available": False, "seconds": 45000},
                "1740381300": {"available": False, "seconds": 45900},
                "1740382200": {"available": False, "seconds": 46800},
                "1740383100": {"available": False, "seconds": 47700},
                "1740384000": {"available": False, "seconds": 48600},
                "1740384900": {"available": False, "seconds": 49500},
                "1740385800": {"available": False, "seconds": 50400},
                "1740386700": {"available": False, "seconds": 51300},
                "1740387600": {"available": False, "seconds": 52200},
                "1740388500": {"available": False, "seconds": 53100},
                "1740389400": {"available": False, "seconds": 54000},
                "1740390300": {"available": False, "seconds": 54900},
                "1740391200": {"available": True, "seconds": 55800},
                "1740392100": {"available": True, "seconds": 56700},
                "1740393000": {"available": True, "seconds": 57600},
                "1740393900": {"available": False, "seconds": 58500},
                "1740394800": {"available": False, "seconds": 59400},
                "1740395700": {"available": False, "seconds": 60300},
                "1740396600": {"available": False, "seconds": 61200},
                "1740397500": {"available": False, "seconds": 62100},
                "1740398400": {"available": False, "seconds": 63000},
                "1740399300": {"available": False, "seconds": 63900},
                "1740400200": {"available": True, "seconds": 64800},
                "1740401100": {"available": True, "seconds": 65700},
                "1740402000": {"available": True, "seconds": 66600},
                "1740402900": {"available": False, "seconds": 67500},
                "1740403800": {"available": False, "seconds": 68400},
                "1740404700": {"available": False, "seconds": 69300},
                "1740405600": {"available": False, "seconds": 70200},
                "1740406500": {"available": False, "seconds": 71100},
                "1740407400": {"available": False, "seconds": 72000},
                "1740408300": {"available": False, "seconds": 72900},
                "1740409200": {"available": False, "seconds": 73800},
                "1740410100": {"available": False, "seconds": 74700},
                "1740411000": {"available": False, "seconds": 75600},
                "1740411900": {"available": False, "seconds": 76500},
                "1740412800": {"available": False, "seconds": 77400},
            },
            "2025-03-01": {
                "1740810600": {"available": False, "seconds": 43200},
                "1740811500": {"available": False, "seconds": 44100},
                "1740812400": {"available": False, "seconds": 45000},
                "1740813300": {"available": False, "seconds": 45900},
                "1740814200": {"available": False, "seconds": 46800},
                "1740815100": {"available": False, "seconds": 47700},
                "1740816000": {"available": False, "seconds": 48600},
                "1740816900": {"available": False, "seconds": 49500},
                "1740817800": {"available": False, "seconds": 50400},
                "1740818700": {"available": False, "seconds": 51300},
                "1740819600": {"available": False, "seconds": 52200},
                "1740820500": {"available": False, "seconds": 53100},
                "1740821400": {"available": False, "seconds": 54000},
                "1740822300": {"available": False, "seconds": 54900},
                "1740823200": {"available": False, "seconds": 55800},
                "1740824100": {"available": False, "seconds": 56700},
                "1740825000": {"available": False, "seconds": 57600},
                "1740825900": {"available": False, "seconds": 58500},
                "1740826800": {"available": False, "seconds": 59400},
                "1740827700": {"available": False, "seconds": 60300},
                "1740828600": {"available": False, "seconds": 61200},
                "1740829500": {"available": False, "seconds": 62100},
                "1740830400": {"available": False, "seconds": 63000},
                "1740831300": {"available": False, "seconds": 63900},
                "1740832200": {"available": False, "seconds": 64800},
                "1740833100": {"available": False, "seconds": 65700},
                "1740834000": {"available": False, "seconds": 66600},
                "1740834900": {"available": False, "seconds": 67500},
                "1740835800": {"available": False, "seconds": 68400},
                "1740836700": {"available": False, "seconds": 69300},
                "1740837600": {"available": False, "seconds": 70200},
                "1740838500": {"available": False, "seconds": 71100},
                "1740839400": {"available": False, "seconds": 72000},
                "1740840300": {"available": False, "seconds": 72900},
                "1740841200": {"available": False, "seconds": 73800},
                "1740842100": {"available": False, "seconds": 74700},
                "1740843000": {"available": False, "seconds": 75600},
                "1740843900": {"available": False, "seconds": 76500},
                "1740844800": {"available": False, "seconds": 77400},
            },
            "2025-02-23": {
                "1740319200": {"available": False, "seconds": 70200},
                "1740320100": {"available": False, "seconds": 71100},
                "1740321000": {"available": False, "seconds": 72000},
                "1740321900": {"available": False, "seconds": 72900},
                "1740322800": {"available": False, "seconds": 73800},
                "1740323700": {"available": False, "seconds": 74700},
                "1740324600": {"available": False, "seconds": 75600},
                "1740325500": {"available": False, "seconds": 76500},
                "1740326400": {"available": False, "seconds": 77400},
            },
        },
        "seconds": [
            43200,
            44100,
            45000,
            45900,
            46800,
            47700,
            48600,
            49500,
            50400,
            51300,
            52200,
            53100,
            54000,
            54900,
            55800,
            56700,
            57600,
            58500,
            59400,
            60300,
            61200,
            62100,
            63000,
            63900,
            64800,
            65700,
            66600,
            67500,
            68400,
            69300,
            70200,
            71100,
            72000,
            72900,
            73800,
            74700,
            75600,
            76500,
            77400,
        ],
    },
}


def process_timetable(time_table):
    output = ""
    data1 = time_table["data"]
    slots = data1["slots"]
    for date, slot in slots.items():
        for times, availability in slot.items():
            av_time = datetime.datetime.fromtimestamp(
                int(times), tz=pytz.timezone("Asia/Kolkata")
            )
            if (
                av_time.weekday() == 3 and availability["available"]
            ):  # checking if availability is true and filtering out false entries
                print(
                    "Available Times :",
                    av_time,
                    ", Available=",
                    availability["available"],  # this can be removed as well
                )
                output += (
                    "Available Times :"
                    + str(av_time)
                    + ", Available="
                    + str(availability["available"])  # this can be removed as well
                )
    return output
